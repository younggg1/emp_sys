# 基于Web的大学毕业生就业情况调查系统开发流程与数据库设计
硬性要求：生成论文内容应该避免被检测出来是ai生成的的；按照这样生成：将上面所有的句子过渡词和连接词替换为最基础、最常用的词语。尽量使用简单、直接表达的表达方式，避免使用复杂或生僻的词汇，确保句子之间的逻辑关系清晰，删除文末总结的部分。想要更简洁、更紧凑的段落式表达，不要分点列举；字数起码在300字左右
## 一、需求分析

### 1. 系统概述
- **目标**：开发一个单一学校的Web系统，用于管理毕业生就业信息和反馈，支持学生、辅导员、管理员三类用户，数据隔离限于班级。
- **核心功能**：
  - **学生端**：登录后只能查看个人信息、登记和查看自己的就业信息及反馈，就业信息和反馈登记依赖当前登录学生用户信息（`user_id`）。
  - **辅导员端**：查看本班学生就业状态信息、审核和删除就业信息和反馈、查看本班就业信息统计。
  - **管理员端**：管理用户、权限、系统设置，查看全部的数据及统计。
- **非功能性要求**：
  - 数据隔离：学生只能操作自己的数据，辅导员限于本班，管理员无限制。
  - 可视化：使用ECharts展示本班（辅导员）和全校（管理员）就业统计（饼图、薪资柱状图）。
  - 验证码：纯前端验证，开关由`system_settings.require_captcha`控制。
  
### 2. 角色与功能
1. **学生端**：
   - **登录**：输入用户名（学号）、密码，验证码（由`system_settings.require_captcha`控制）。
   - **个人信息**：查看学号、姓名、年级、学院、专业、辅导员姓名、就业状态。
   - **就业信息登记**：提交企业性质、公司、职位、月薪、入职日期、地区（城市选择），无需输入姓名和专业（从`students`表获取），需辅导员审核。
   - **就业反馈**：提交就业阶段和反馈内容，需辅导员审核。
   - **查看**：只能查看自己的就业信息和反馈记录，SQL过滤`student_id = 当前登录user_id`。
   - **增删改查**：管理自己的就业信息和反馈（仅限待审核状态）

2. **辅导员端**：
   - **登录**：输入用户名（工号）、密码，验证码。
   - **本班管理**：查看本班学生花名册及就业状态（已就业/未就业）。
   - **审核**：可以审核本班学生的就业信息和反馈（通过或待审核）。
   - **查询**：查看本班就业信息和反馈。
   - **查看本班就业统计**： 本班学生总数、已就业、待就业、就业率。

3. **管理员端**：
   - **登录**：输入用户名、密码，验证码。
   - **用户管理**：添加学生（学号、姓名、年级、班级、学院、专业、辅导员）、添加辅导员（工号、密码、姓名）、删除用户。
   - **权限分配**：为辅导员分配删除本班数据的权限。
   - **系统设置**：控制验证码开关（`require_captcha`）。
   - **历年就业数据**：查看数据库里全部就业信息（具有删除就业信息功能）。
   - **统计分析**：全校就业分布（地区、企业性质使用饼图、薪资使用柱状图）

### 3. 数据隔离
- **学生**：通过`user_id`（即`student_id`）限制只能操作自己的数据。
- **辅导员**：通过`counselor_id`关联`students`表，只能访问本班数据。
- **管理员**：无限制，访问全校数据。

## 项目概述

本项目是一个基于Web的大学毕业生就业情况调查系统，旨在帮助学校管理毕业生就业信息和反馈。系统支持学生、辅导员和管理员三类用户，实现了数据隔离和权限控制。

### 核心功能

- **学生端**：查看个人信息、登记和查看就业信息及反馈；审核通过后会更新就业状态
- **辅导员端**：查看本班学生信息（就业状态）、审核和删除本班就业信息和反馈、查看本班就业数据统计
- **管理员端**：用户管理、权限、系统设置，查看全校统计

## 技术栈

### 前端

- **框架**：Vue 3
- **UI组件库**：Element Plus
- **路由**：Vue Router
- **HTTP客户端**：Axios
- **图表库**：ECharts
- **构建工具**：Vite

### 后端

- **框架**：Spring Boot 3.4.5
- **数据库**：MySQL
- **ORM框架**：MyBatis-Plus
- **其他依赖**：Lombok

## 功能模块

### 1. 学生端

#### 1.1 个人信息
- 查看学号、姓名、年级、班级、学院、专业、辅导员姓名、就业状态

#### 1.2 就业信息
- 登记就业信息（企业性质、公司、职位、月薪、入职日期、地区）
- 查看个人就业信息
- 编辑/删除待审核状态的就业信息

#### 1.3 就业反馈
- 提交就业反馈（就业阶段、反馈内容）
- 查看个人反馈记录
- 编辑/删除待审核状态的反馈

### 2. 辅导员端

#### 2.1 班级管理
- 查看本班全部学生信息以及就业状态
- 统计本班就业情况

#### 2.2 就业信息管理
- 查看本班学生就业信息
- 审核就业信息
- 删除就业信息（需权限）

#### 2.3 反馈管理
- 查看本班学生反馈
- 审核反馈信息
- 删除反馈信息（需权限）

### 3. 管理员端

#### 3.1 用户管理
- 添加学生（学号、密码、姓名、班级、学院、专业、辅导员）
- 添加辅导员（工号、密码、姓名）
- 编辑学生信息（姓名、班级、学院、专业、辅导员）编辑辅导员信息（姓名）
- 删除用户

#### 3.2 权限管理
- 为辅导员分配删除权限

#### 3.3 系统设置
- 控制验证码开关

#### 3.4 统计分析
- 全校就业分布（地区、薪资、企业性质）
#### 3.5 历年就业
- 历年就业数据；可删除

## 数据库设计
-- --------------------------------------------------------
-- 主机:                           127.0.0.1
-- 服务器版本:                        9.0.1 - MySQL Community Server - GPL
-- 服务器操作系统:                      Win64
-- HeidiSQL 版本:                  12.10.0.7000
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


-- 导出 employment_survey 的数据库结构
CREATE DATABASE IF NOT EXISTS `employment_survey` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `employment_survey`;

-- 导出  表 employment_survey.counselors 结构
CREATE TABLE IF NOT EXISTS `counselors` (
  `counselor_id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `permission` enum('Y','N') NOT NULL DEFAULT 'N',
  PRIMARY KEY (`counselor_id`),
  CONSTRAINT `counselors_ibfk_1` FOREIGN KEY (`counselor_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

-- 导出  表 employment_survey.employment_records 结构
CREATE TABLE IF NOT EXISTS `employment_records` (
  `record_id` bigint NOT NULL AUTO_INCREMENT,
  `student_id` bigint NOT NULL,
  `company_nature` varchar(50) NOT NULL,
  `company` varchar(100) NOT NULL,
  `position` varchar(50) NOT NULL,
  `salary` decimal(10,2) NOT NULL,
  `entry_date` date NOT NULL,
  `region` varchar(50) NOT NULL,
  `status` enum('pending','approved') NOT NULL DEFAULT 'pending',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`record_id`),
  KEY `idx_student_id` (`student_id`),
  KEY `idx_region` (`region`),
  CONSTRAINT `employment_records_ibfk_1` FOREIGN KEY (`student_id`) REFERENCES `students` (`student_id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

-- 导出  表 employment_survey.feedback_records 结构
CREATE TABLE IF NOT EXISTS `feedback_records` (
  `feedback_id` bigint NOT NULL AUTO_INCREMENT,
  `student_id` bigint NOT NULL,
  `stage` varchar(50) NOT NULL,
  `content` text NOT NULL,
  `status` enum('pending','approved') NOT NULL DEFAULT 'pending',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`feedback_id`),
  KEY `idx_student_id` (`student_id`),
  CONSTRAINT `feedback_records_ibfk_1` FOREIGN KEY (`student_id`) REFERENCES `students` (`student_id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

-- 导出  表 employment_survey.students 结构
CREATE TABLE IF NOT EXISTS `students` (
  `student_id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `grade` varchar(10) NOT NULL,
  `class_name` varchar(50) NOT NULL,
  `college` varchar(50) NOT NULL,
  `major` varchar(50) NOT NULL,
  `counselor_id` bigint NOT NULL,
  `employment_status` enum('unemployed','employed') NOT NULL DEFAULT 'unemployed',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`student_id`),
  KEY `idx_counselor_id` (`counselor_id`),
  KEY `idx_grade` (`grade`),
  CONSTRAINT `students_ibfk_1` FOREIGN KEY (`student_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  CONSTRAINT `students_ibfk_2` FOREIGN KEY (`counselor_id`) REFERENCES `users` (`user_id`) ON DELETE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

-- 导出  表 employment_survey.system_settings 结构
CREATE TABLE IF NOT EXISTS `system_settings` (
  `setting_id` bigint NOT NULL AUTO_INCREMENT,
  `require_captcha` tinyint(1) NOT NULL DEFAULT '1',
  `require_approval` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`setting_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

-- 导出  表 employment_survey.users 结构
CREATE TABLE IF NOT EXISTS `users` (
  `user_id` bigint NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `password` varchar(100) NOT NULL,
  `role` enum('student','counselor','admin') NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 数据导出被取消选择。

/*!40103 SET TIME_ZONE=IFNULL(@OLD_TIME_ZONE, 'system') */;
/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IFNULL(@OLD_FOREIGN_KEY_CHECKS, 1) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=IFNULL(@OLD_SQL_NOTES, 1) */;
